{"version":3,"file":"productHandlers.js","names":["getAll","getOne","deleteOne","getAllProducts","ctx","products","query","status","body","success","data","e","console","error","message","getSingleProduct","product","params","id","Error","deleteProduct","isAvailable","createProduct"],"sources":["../../src/handlers/productHandlers.js"],"sourcesContent":["import { getAll, getOne, deleteOne } from \"../database/productRepository.js\";\r\n\r\nexport const getAllProducts = async (ctx) => {\r\n  try {\r\n    const products = getAll(ctx.query);\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      success: true,\r\n      data: products,\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    ctx.status = 404;\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getSingleProduct = async (ctx) => {\r\n  try {\r\n    const product = getOne(ctx.params.id);\r\n\r\n    if (!product) {\r\n      throw new Error(\"There is no product with that ID\");\r\n    }\r\n\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      success: true,\r\n      data: product,\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    ctx.status = 404;\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProduct = async (ctx) => {\r\n  try {\r\n    const isAvailable = deleteOne(ctx.params.id);\r\n    if (!isAvailable) {\r\n      throw new Error(\"There is no product with that ID\");\r\n    }\r\n    ctx.status = 204;\r\n    return (ctx.body = {\r\n      success: true,\r\n      message: \"Deleted successfully!\",\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    ctx.status = 404;\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const createProduct = async (ctx) => {\r\n  try {\r\n  } catch (e) {\r\n    console.error(e);\r\n    ctx.status = 400;\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,MAAM,EAAEC,MAAM,EAAEC,SAAS,QAAQ,kCAAkC;AAE5E,OAAO,MAAMC,cAAc,GAAG,MAAOC,GAAG,IAAK;EAC3C,IAAI;IACF,MAAMC,QAAQ,GAAGL,MAAM,CAACI,GAAG,CAACE,KAAK,CAAC;IAClCF,GAAG,CAACG,MAAM,GAAG,GAAG;IAChB,OAAQH,GAAG,CAACI,IAAI,GAAG;MACjBC,OAAO,EAAE,IAAI;MACbC,IAAI,EAAEL;IACR,CAAC;EACH,CAAC,CAAC,OAAOM,CAAC,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;IAChBP,GAAG,CAACG,MAAM,GAAG,GAAG;IAChB,OAAQH,GAAG,CAACI,IAAI,GAAG;MACjBC,OAAO,EAAE,KAAK;MACdI,KAAK,EAAEF,CAAC,CAACG;IACX,CAAC;EACH;AACF,CAAC;AAED,OAAO,MAAMC,gBAAgB,GAAG,MAAOX,GAAG,IAAK;EAC7C,IAAI;IACF,MAAMY,OAAO,GAAGf,MAAM,CAACG,GAAG,CAACa,MAAM,CAACC,EAAE,CAAC;IAErC,IAAI,CAACF,OAAO,EAAE;MACZ,MAAM,IAAIG,KAAK,CAAC,kCAAkC,CAAC;IACrD;IAEAf,GAAG,CAACG,MAAM,GAAG,GAAG;IAChB,OAAQH,GAAG,CAACI,IAAI,GAAG;MACjBC,OAAO,EAAE,IAAI;MACbC,IAAI,EAAEM;IACR,CAAC;EACH,CAAC,CAAC,OAAOL,CAAC,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;IAChBP,GAAG,CAACG,MAAM,GAAG,GAAG;IAChB,OAAQH,GAAG,CAACI,IAAI,GAAG;MACjBC,OAAO,EAAE,KAAK;MACdI,KAAK,EAAEF,CAAC,CAACG;IACX,CAAC;EACH;AACF,CAAC;AAED,OAAO,MAAMM,aAAa,GAAG,MAAOhB,GAAG,IAAK;EAC1C,IAAI;IACF,MAAMiB,WAAW,GAAGnB,SAAS,CAACE,GAAG,CAACa,MAAM,CAACC,EAAE,CAAC;IAC5C,IAAI,CAACG,WAAW,EAAE;MAChB,MAAM,IAAIF,KAAK,CAAC,kCAAkC,CAAC;IACrD;IACAf,GAAG,CAACG,MAAM,GAAG,GAAG;IAChB,OAAQH,GAAG,CAACI,IAAI,GAAG;MACjBC,OAAO,EAAE,IAAI;MACbK,OAAO,EAAE;IACX,CAAC;EACH,CAAC,CAAC,OAAOH,CAAC,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;IAChBP,GAAG,CAACG,MAAM,GAAG,GAAG;IAChB,OAAQH,GAAG,CAACI,IAAI,GAAG;MACjBC,OAAO,EAAE,KAAK;MACdI,KAAK,EAAEF,CAAC,CAACG;IACX,CAAC;EACH;AACF,CAAC;AAED,OAAO,MAAMQ,aAAa,GAAG,MAAOlB,GAAG,IAAK;EAC1C,IAAI,CACJ,CAAC,CAAC,OAAOO,CAAC,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;IAChBP,GAAG,CAACG,MAAM,GAAG,GAAG;IAChB,OAAQH,GAAG,CAACI,IAAI,GAAG;MACjBC,OAAO,EAAE,KAAK;MACdI,KAAK,EAAEF,CAAC,CAACG;IACX,CAAC;EACH;AACF,CAAC"}