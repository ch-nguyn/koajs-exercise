{"version":3,"file":"productHandlers.js","names":["getAll","getOne","deleteOne","addOne","updateOne","getAllProducts","ctx","products","query","status","body","success","data","e","console","error","message","getSingleProduct","product","params","id","fields","deleteProduct","createProduct","request","updateProduct"],"sources":["../../../src/handlers/products/productHandlers.js"],"sourcesContent":["import {\r\n  getAll,\r\n  getOne,\r\n  deleteOne,\r\n  addOne,\r\n  updateOne,\r\n} from \"../../database/productRepository.js\";\r\n\r\nexport const getAllProducts = async (ctx) => {\r\n  try {\r\n    const products = getAll(ctx.query);\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      success: true,\r\n      data: products,\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    ctx.status = 404;\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getSingleProduct = async (ctx) => {\r\n  try {\r\n    const product = getOne(ctx.params.id, ctx.query.fields);\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      success: true,\r\n      data: product,\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    ctx.status = 404;\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProduct = async (ctx) => {\r\n  try {\r\n    deleteOne(ctx.params.id);\r\n\r\n    ctx.status = 204;\r\n    return (ctx.body = {\r\n      success: true,\r\n      message: \"Deleted successfully!\",\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    ctx.status = 404;\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const createProduct = async (ctx) => {\r\n  try {\r\n    const product = ctx.request.body;\r\n    addOne(product);\r\n    ctx.status = 201;\r\n    return (ctx.body = {\r\n      success: true,\r\n      data: product,\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    ctx.status = 400;\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProduct = async (ctx) => {\r\n  try {\r\n    const { body } = ctx.request;\r\n    const { id } = ctx.params;\r\n\r\n    updateOne(id, body);\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    ctx.status = 404;\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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"}