{"version":3,"file":"routes.js","names":["Router","getAllProducts","getSingleProduct","deleteProduct","createProduct","updateProduct","checkCreateInput","checkUpdateInput","getAll","getOne","router","get","ctx","limit","orderBy","query","products","render","product","params","id","post","delete","put"],"sources":["../../src/routes/routes.js"],"sourcesContent":["import Router from \"koa-router\";\r\nimport {\r\n  getAllProducts,\r\n  getSingleProduct,\r\n  deleteProduct,\r\n  createProduct,\r\n  updateProduct,\r\n} from \"../handlers/products/productHandlers.js\";\r\nimport {\r\n  checkCreateInput,\r\n  checkUpdateInput,\r\n} from \"../middleware/checkInputProduct.js\";\r\nimport { getAll, getOne } from \"../database/productRepository.js\";\r\n\r\n// const router = new Router({\r\n//   prefix: \"/api/products\",\r\n// });\r\n\r\nconst router = new Router();\r\n\r\nrouter.get(\"/page/products\", async (ctx) => {\r\n  const { limit, orderBy } = ctx.query;\r\n  const products = getAll({ limit, orderBy });\r\n  await ctx.render(\"pages/product\", {\r\n    products,\r\n  });\r\n});\r\n\r\nrouter.get(\"/page/edit/:id\", async (ctx) => {\r\n  const product = getOne(ctx.params.id);\r\n  await ctx.render(\"pages/editProduct\", {\r\n    product,\r\n  });\r\n});\r\n\r\nrouter.get(\"/api/products\", getAllProducts);\r\nrouter.post(\"/api/products\", checkCreateInput, createProduct);\r\nrouter.get(\"/api/products/:id\", getSingleProduct);\r\nrouter.delete(\"/api/products/:id\", deleteProduct);\r\nrouter.put(\"/api/products/:id\", checkUpdateInput, updateProduct);\r\n\r\nexport default router;\r\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,YAAY;AAC/B,SACEC,cAAc,EACdC,gBAAgB,EAChBC,aAAa,EACbC,aAAa,EACbC,aAAa,QACR,yCAAyC;AAChD,SACEC,gBAAgB,EAChBC,gBAAgB,QACX,oCAAoC;AAC3C,SAASC,MAAM,EAAEC,MAAM,QAAQ,kCAAkC;;AAEjE;AACA;AACA;;AAEA,MAAMC,MAAM,GAAG,IAAIV,MAAM,CAAC,CAAC;AAE3BU,MAAM,CAACC,GAAG,CAAC,gBAAgB,EAAE,MAAOC,GAAG,IAAK;EAC1C,MAAM;IAAEC,KAAK;IAAEC;EAAQ,CAAC,GAAGF,GAAG,CAACG,KAAK;EACpC,MAAMC,QAAQ,GAAGR,MAAM,CAAC;IAAEK,KAAK;IAAEC;EAAQ,CAAC,CAAC;EAC3C,MAAMF,GAAG,CAACK,MAAM,CAAC,eAAe,EAAE;IAChCD;EACF,CAAC,CAAC;AACJ,CAAC,CAAC;AAEFN,MAAM,CAACC,GAAG,CAAC,gBAAgB,EAAE,MAAOC,GAAG,IAAK;EAC1C,MAAMM,OAAO,GAAGT,MAAM,CAACG,GAAG,CAACO,MAAM,CAACC,EAAE,CAAC;EACrC,MAAMR,GAAG,CAACK,MAAM,CAAC,mBAAmB,EAAE;IACpCC;EACF,CAAC,CAAC;AACJ,CAAC,CAAC;AAEFR,MAAM,CAACC,GAAG,CAAC,eAAe,EAAEV,cAAc,CAAC;AAC3CS,MAAM,CAACW,IAAI,CAAC,eAAe,EAAEf,gBAAgB,EAAEF,aAAa,CAAC;AAC7DM,MAAM,CAACC,GAAG,CAAC,mBAAmB,EAAET,gBAAgB,CAAC;AACjDQ,MAAM,CAACY,MAAM,CAAC,mBAAmB,EAAEnB,aAAa,CAAC;AACjDO,MAAM,CAACa,GAAG,CAAC,mBAAmB,EAAEhB,gBAAgB,EAAEF,aAAa,CAAC;AAEhE,eAAeK,MAAM"}