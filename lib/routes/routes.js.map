{"version":3,"file":"routes.js","names":["Router","getAllProducts","getSingleProduct","removeProduct","createProduct","updateProduct","checkCreateInput","checkUpdateInput","getData","getOne","router","get","ctx","limit","orderBy","query","products","render","product","params","id","post","delete","put"],"sources":["../../src/routes/routes.js"],"sourcesContent":["import Router from \"koa-router\";\nimport {\n  getAllProducts,\n  getSingleProduct,\n  removeProduct,\n  createProduct,\n  updateProduct,\n} from \"../handlers/products/productHandlers.js\";\nimport {\n  checkCreateInput,\n  checkUpdateInput,\n} from \"../middleware/checkInputProduct.js\";\nimport { getData, getOne } from \"../database/productRepository.js\";\n\n// const router = new Router({\n//   prefix: \"/api/products\",\n// });\n\nconst router = new Router();\n\nrouter.get(\"/page/products\", async (ctx) => {\n  const { limit, orderBy } = ctx.query;\n  const products = getData({ limit, orderBy });\n  await ctx.render(\"pages/product\", {\n    products,\n  });\n});\n\nrouter.get(\"/page/edit/:id\", async (ctx) => {\n  const product = getOne(ctx.params.id);\n  await ctx.render(\"pages/editProduct\", {\n    product,\n  });\n});\n\nrouter.get(\"/api/products\", getAllProducts);\nrouter.post(\"/api/product\", checkCreateInput, createProduct);\nrouter.get(\"/api/product/:id\", getSingleProduct);\nrouter.delete(\"/api/product/:id\", removeProduct);\nrouter.put(\"/api/product/:id\", checkUpdateInput, updateProduct);\n\nexport default router;\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,YAAY;AAC/B,SACEC,cAAc,EACdC,gBAAgB,EAChBC,aAAa,EACbC,aAAa,EACbC,aAAa,QACR,yCAAyC;AAChD,SACEC,gBAAgB,EAChBC,gBAAgB,QACX,oCAAoC;AAC3C,SAASC,OAAO,EAAEC,MAAM,QAAQ,kCAAkC;;AAElE;AACA;AACA;;AAEA,MAAMC,MAAM,GAAG,IAAIV,MAAM,CAAC,CAAC;AAE3BU,MAAM,CAACC,GAAG,CAAC,gBAAgB,EAAE,MAAOC,GAAG,IAAK;EAC1C,MAAM;IAAEC,KAAK;IAAEC;EAAQ,CAAC,GAAGF,GAAG,CAACG,KAAK;EACpC,MAAMC,QAAQ,GAAGR,OAAO,CAAC;IAAEK,KAAK;IAAEC;EAAQ,CAAC,CAAC;EAC5C,MAAMF,GAAG,CAACK,MAAM,CAAC,eAAe,EAAE;IAChCD;EACF,CAAC,CAAC;AACJ,CAAC,CAAC;AAEFN,MAAM,CAACC,GAAG,CAAC,gBAAgB,EAAE,MAAOC,GAAG,IAAK;EAC1C,MAAMM,OAAO,GAAGT,MAAM,CAACG,GAAG,CAACO,MAAM,CAACC,EAAE,CAAC;EACrC,MAAMR,GAAG,CAACK,MAAM,CAAC,mBAAmB,EAAE;IACpCC;EACF,CAAC,CAAC;AACJ,CAAC,CAAC;AAEFR,MAAM,CAACC,GAAG,CAAC,eAAe,EAAEV,cAAc,CAAC;AAC3CS,MAAM,CAACW,IAAI,CAAC,cAAc,EAAEf,gBAAgB,EAAEF,aAAa,CAAC;AAC5DM,MAAM,CAACC,GAAG,CAAC,kBAAkB,EAAET,gBAAgB,CAAC;AAChDQ,MAAM,CAACY,MAAM,CAAC,kBAAkB,EAAEnB,aAAa,CAAC;AAChDO,MAAM,CAACa,GAAG,CAAC,kBAAkB,EAAEhB,gBAAgB,EAAEF,aAAa,CAAC;AAE/D,eAAeK,MAAM"}