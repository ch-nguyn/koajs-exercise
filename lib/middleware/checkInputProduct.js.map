{"version":3,"file":"checkInputProduct.js","names":["yup","checkCreateInput","ctx","next","body","request","schema","object","shape","id","number","positive","integer","required","name","string","price","description","product","color","image","validate","e","status","success","errors","errorName","checkUpdateInput"],"sources":["../../src/middleware/checkInputProduct.js"],"sourcesContent":["import yup from \"yup\";\r\n\r\nexport const checkCreateInput = async (ctx, next) => {\r\n  try {\r\n    const { body } = ctx.request;\r\n    let schema = yup.object().shape({\r\n      id: yup.number().positive().integer().required(),\r\n      name: yup.string().required(),\r\n      price: yup.number().positive().integer().required(),\r\n      description: yup.string().required(),\r\n      product: yup.string().required(),\r\n      color: yup.string().required(),\r\n      image: yup.string().required(),\r\n    });\r\n\r\n    await schema.validate(body);\r\n    next();\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      errors: e.errors,\r\n      errorName: e.name,\r\n    };\r\n  }\r\n};\r\n\r\nexport const checkUpdateInput = async (ctx, next) => {\r\n  try {\r\n    const { body } = ctx.request;\r\n\r\n    let schema = yup.object().shape({\r\n      name: yup.string(),\r\n      price: yup.number().positive().integer(),\r\n      description: yup.string(),\r\n      product: yup.string(),\r\n      color: yup.string(),\r\n      image: yup.string(),\r\n    });\r\n    await schema.validate(body);\r\n\r\n    next();\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      errors: e.errors,\r\n      errorName: e.name,\r\n    };\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AAErB,OAAO,MAAMC,gBAAgB,GAAG,MAAAA,CAAOC,GAAG,EAAEC,IAAI,KAAK;EACnD,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAGF,GAAG,CAACG,OAAO;IAC5B,IAAIC,MAAM,GAAGN,GAAG,CAACO,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC;MAC9BC,EAAE,EAAET,GAAG,CAACU,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;MAChDC,IAAI,EAAEd,GAAG,CAACe,MAAM,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC;MAC7BG,KAAK,EAAEhB,GAAG,CAACU,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;MACnDI,WAAW,EAAEjB,GAAG,CAACe,MAAM,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC;MACpCK,OAAO,EAAElB,GAAG,CAACe,MAAM,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC;MAChCM,KAAK,EAAEnB,GAAG,CAACe,MAAM,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC;MAC9BO,KAAK,EAAEpB,GAAG,CAACe,MAAM,CAAC,CAAC,CAACF,QAAQ,CAAC;IAC/B,CAAC,CAAC;IAEF,MAAMP,MAAM,CAACe,QAAQ,CAACjB,IAAI,CAAC;IAC3BD,IAAI,CAAC,CAAC;EACR,CAAC,CAAC,OAAOmB,CAAC,EAAE;IACVpB,GAAG,CAACqB,MAAM,GAAG,GAAG;IAChBrB,GAAG,CAACE,IAAI,GAAG;MACToB,OAAO,EAAE,KAAK;MACdC,MAAM,EAAEH,CAAC,CAACG,MAAM;MAChBC,SAAS,EAAEJ,CAAC,CAACR;IACf,CAAC;EACH;AACF,CAAC;AAED,OAAO,MAAMa,gBAAgB,GAAG,MAAAA,CAAOzB,GAAG,EAAEC,IAAI,KAAK;EACnD,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAGF,GAAG,CAACG,OAAO;IAE5B,IAAIC,MAAM,GAAGN,GAAG,CAACO,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC;MAC9BM,IAAI,EAAEd,GAAG,CAACe,MAAM,CAAC,CAAC;MAClBC,KAAK,EAAEhB,GAAG,CAACU,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;MACxCK,WAAW,EAAEjB,GAAG,CAACe,MAAM,CAAC,CAAC;MACzBG,OAAO,EAAElB,GAAG,CAACe,MAAM,CAAC,CAAC;MACrBI,KAAK,EAAEnB,GAAG,CAACe,MAAM,CAAC,CAAC;MACnBK,KAAK,EAAEpB,GAAG,CAACe,MAAM,CAAC;IACpB,CAAC,CAAC;IACF,MAAMT,MAAM,CAACe,QAAQ,CAACjB,IAAI,CAAC;IAE3BD,IAAI,CAAC,CAAC;EACR,CAAC,CAAC,OAAOmB,CAAC,EAAE;IACVpB,GAAG,CAACqB,MAAM,GAAG,GAAG;IAChBrB,GAAG,CAACE,IAAI,GAAG;MACToB,OAAO,EAAE,KAAK;MACdC,MAAM,EAAEH,CAAC,CAACG,MAAM;MAChBC,SAAS,EAAEJ,CAAC,CAACR;IACf,CAAC;EACH;AACF,CAAC"}